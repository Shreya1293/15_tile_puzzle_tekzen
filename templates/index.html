<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>15 Tile Puzzle Game</title>
    <style>
        body{
            font-family:Arial,sans-serif;
            text-align:center;
            margin:20px;
        }
        
        #puzzle-container{
            display:grid;
            grid-template-columns:repeat(4,100px);
            grid-gap:5px;
            margin:20px auto;
            justify-content:center;
            align-items:center;
        }
        
        .tile{
            width:100px;
            height:100px;
            display:flex;
            justify-content:center;
            align-items:center;
            background-color:#d7a856;
            color:white;
            font-size:24px;
        }
        .tile.empty{
          background-color:#684e22;
          box-shadow:none;
        }
        
        button{
          padding:10px 20px;
          font-size:16px;
          margin-top:10px;
          font-palette:#684e22;
        }
        
        #message{
          margin-top:15px;
          font-size:18px;
          color:red;
        }
        
        #loading{
            display:none;
            position:fixed;
            top:0;
            left:0;
            width:100%;
            height:100%;
            background:rgba(255, 255, 255, 0.8);
            z-index:1000;
            justify-content:center;
            align-items:center;
            font-size:24px;
            font-weight:bold;
        }
    </style>
</head>
<body>
    <div id="loading">Loading...</div>
    <h1>15 Tile Puzzle Game</h1>
    <form method="POST" onsubmit="document.getElementById('loading').style.display='flex';">
        <div id="puzzle-container">
            {% for tile in puzzle %}
            <button type="submit" name="move" value="{{loop.index0}}"
                class="tile {%if tile == 0 %}empty{%endif%}">
                {{"" if tile == 0 else tile }}
            </button>
            {%endfor %}
        </div>
    </form>
    <p id="message">{{message}}</p>
    <a href="/reset"><button>New Puzzle</button></a>
</body>
</html>